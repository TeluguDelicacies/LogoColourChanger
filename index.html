<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TD Logo Customizer</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f5f5f5;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
        color: #333;
    }
    h1 {
        margin-bottom: 10px;
    }
    .controls {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: center;
        margin-bottom: 20px;
    }
    .control-group {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .control-group input[type="color"] {
        border: none;
        background: none;
        width: 50px;
        height: 50px;
        padding: 0;
    }
    .control-group input[type="text"], 
    .control-group input[type="number"] {
        margin-top: 5px;
        text-align: center;
        width: 80px;
        padding: 5px;
    }
    #preview svg {
        max-width: 400px;
        height: auto;
    }
    button {
        padding: 10px 20px;
        background: #0078d4;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
    }
    button:hover {
        background: #005fa3;
    }
</style>
</head>
<body>

<h1>TD Logo Customizer</h1>

<div class="controls">
    <div class="control-group">
        <label>Path Fill</label>
        <input type="color" id="pathColor">
        <input type="text" id="pathHex">
    </div>
    <div class="control-group">
        <label>Rectangle Fill</label>
        <input type="color" id="rectColor">
        <input type="text" id="rectHex">
    </div>
    <div class="control-group">
        <label>Stroke Color</label>
        <input type="color" id="strokeColor">
        <input type="text" id="strokeHex">
    </div>
    <div class="control-group">
        <label>Stroke Width</label>
        <input type="number" id="strokeWidth" min="0" step="0.5" value="2">
    </div>
</div>

<div id="preview">
    <!-- Inline SVG -->
    <svg
        version="1.1"
        width="1024"
        height="1024"
        viewBox="0 0 1024 1024"
        xmlns="http://www.w3.org/2000/svg">
        <rect
            id="Square Behind TD"
            width="800"
            height="800"
            x="113.09484"
            y="116.78271"
            fill="#eedc29" />
        <path
            id="TD Path"
            fill="#ffffff"
            stroke="#000000"
            stroke-width="2"
            d="m 419.65674,940.20232 ... (rest of your path here) ..." />
    </svg>
</div>

<br>
<button id="downloadBtn">Download PNG</button>

<script>
function syncHexAndColor(hexInput, colorInput) {
    hexInput.value = colorInput.value.toUpperCase();
    hexInput.addEventListener("input", () => {
        if (/^#([0-9A-F]{3}){1,2}$/i.test(hexInput.value)) {
            colorInput.value = hexInput.value;
            updatePreview();
        }
    });
    colorInput.addEventListener("input", () => {
        hexInput.value = colorInput.value.toUpperCase();
        updatePreview();
    });
}

function updatePreview() {
    const path = document.getElementById("TD Path");
    const rect = document.getElementById("Square Behind TD");

    path.setAttribute("fill", document.getElementById("pathColor").value);
    rect.setAttribute("fill", document.getElementById("rectColor").value);
    path.setAttribute("stroke", document.getElementById("strokeColor").value);
    path.setAttribute("stroke-width", document.getElementById("strokeWidth").value);
}

document.getElementById("downloadBtn").addEventListener("click", () => {
    const svg = document.querySelector("#preview svg");
    const serializer = new XMLSerializer();
    const svgString = serializer.serializeToString(svg);
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");

    const img = new Image();
    const svgBlob = new Blob([svgString], {type: "image/svg+xml;charset=utf-8"});
    const url = URL.createObjectURL(svgBlob);

    img.onload = () => {
        canvas.width = svg.viewBox.baseVal.width || svg.width.baseVal.value;
        canvas.height = svg.viewBox.baseVal.height || svg.height.baseVal.value;
        ctx.drawImage(img, 0, 0);
        URL.revokeObjectURL(url);

        const a = document.createElement("a");
        a.download = "custom_logo.png";
        a.href = canvas.toDataURL("image/png");
        a.click();
    };
    img.src = url;
});

syncHexAndColor(document.getElementById("pathHex"), document.getElementById("pathColor"));
syncHexAndColor(document.getElementById("rectHex"), document.getElementById("rectColor"));
syncHexAndColor(document.getElementById("strokeHex"), document.getElementById("strokeColor"));

updatePreview();
</script>

</body>
</html>
